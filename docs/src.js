webpackJsonp([0],[,function(t,e,s){t.exports=s(2)},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s(3),i=(s.n(a),s(0)),n=s.n(i),r=s(4),c=s(5),o=(s(6),s(7));const u=document.getElementById("main"),h=document.getElementById("error"),l=document.getElementById("start"),m=new r.a(u),d=new c.a;n.a.UserMedia.supported?l.addEventListener("click",()=>{d.setup(m),l.classList.add("start--clicked"),function(){const t=new o.a(m);d.setAgent(t)}()}):h.classList.add("error--visible")},function(t,e){},function(t,e,s){"use strict";const a="screen--flash";e.a=class{constructor(t,e){this.elem=t,this.timeout=null}setToColor(t){this.elem.style.backgroundColor="rgba("+t.join(",")+", 1)"}flash(t=100){this.timeout&&clearTimeout(this.timeout),this.elem.classList.add(a),this.timeout=setTimeout(()=>{this.elem.classList.remove(a)},t)}}},function(t,e,s){"use strict";var a=s(0),i=s.n(a);e.a=class{setup(){return this.startTime=Date.now(),this.mic=new i.a.UserMedia,this.analyser=new i.a.Waveform(256),this.gain=new i.a.Volume,this.mic.connect(this.gain),this.gain.connect(this.analyser),this.mic.open(),this.update(),!0}close(){this.mic.close()}setAgent(t){this.agent=t,this.agent.start()}update(){window.requestAnimationFrame(()=>{if(!this.agent)return;const t=this.analyser.getValue(),e=Date.now()-this.startTime;this.agent.update(t,e,this.gain),this.update()},this)}}},function(t,e,s){"use strict";var a=s(0);s.n(a)},function(t,e,s){"use strict";var a=s(0),i=s.n(a);const n=.01;e.a=class{constructor(t){this.visuals=t,this.meter=new i.a.Meter,this.synth=new i.a.PolySynth(1,i.a.Synth,{oscillator:{partials:[0,2,3,4,8]},envelope:{attack:.05,decay:.05,sustain:.1,release:.1}}).connect(this.meter),this.meter.toMaster()}start(){Meyda.bufferSize=256}update(t,e,s){const a=Meyda.extract(["rms","chroma"],t),i=Math.abs(this.meter.getValue());s.mute=i>.001,a.rms>n&&(this.visuals.flash(),this.synth.triggerAttackRelease("C3",.1))}}}],[1]);